{"mappings":"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","sources":["./src/canvas.js","./src/primitives.js","./src/07-mouse-ruler/index.js"],"sourcesContent":["export function newCanvas(width, height, background, target = document.body) {\n    const canvas = document.createElement('canvas');\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n    canvas.style.background = background;\n    target.appendChild(canvas);\n\n    return {\n        canvas,\n        scene: canvas.getContext('2d')\n    };\n}\n\nexport function clearScene(scene, canvas) {\n    scene.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nexport function renderLoop(fn, delay) {\n    let start = performance.now();\n    let elapsed = 0;\n\n    const draw = () => {\n        requestAnimationFrame(draw);\n\n        elapsed = elapsed + (performance.now() - start)\n        start = performance.now();\n\n        if (elapsed >= delay) {\n            fn();\n            elapsed = 0;\n        }\n    }\n\n    draw();\n}","export function line(scene, x1, y1, x2, y2, width, color) {\n    scene.beginPath();\n    scene.lineWidth = width;\n    scene.strokeStyle = color;\n\n    scene.moveTo(x1, y1);\n    scene.lineTo(x2, y2);\n\n    scene.stroke();\n}\n","import {clearScene, newCanvas} from \"../canvas\";\nimport {line} from \"../primitives\";\n\n\nconst { canvas, scene } = newCanvas(500, 380, '#e2e2e2');\n\n\nlet horizontalRuler, verticalRuler;\ncanvas.addEventListener('mousemove', (event) => {\n    horizontalRuler = createHorizontalRuler(event.offsetX, event.offsetY, 'orange');\n    verticalRuler = createVerticalRuler(event.offsetX, event.offsetY, 'orange');\n});\n\nfunction createHorizontalRuler(mouseX, mouseY, color) {\n    return {\n        x1: 0,\n        y1: mouseY,\n        x2: mouseX,\n        y2: mouseY,\n        color: color,\n    }\n}\n\nfunction createVerticalRuler(mouseX, mouseY, color) {\n    return {\n        x1: mouseX,\n        y1: 0,\n        x2: mouseX,\n        y2: mouseY,\n        color: color,\n    }\n}\n\nfunction drawRuler(scene, ruler) {\n    line(scene, ruler.x1, ruler.y1, ruler.x2, ruler.y2, 1, ruler.color);\n}\n\nfunction drawLabel(scene, ruler, color, fontSize, position) {\n    scene.fillStyle = color;\n    scene.font = `${fontSize}x monospace`;\n\n    scene.fillText(`(${ruler.x2}, ${ruler.y2})`, ruler.x2, ruler.y2);\n}\n\nfunction draw() {\n    requestAnimationFrame(draw);\n\n    clearScene(scene, canvas);\n\n    if (horizontalRuler) {\n        drawRuler(scene, horizontalRuler);\n    }\n\n    if (verticalRuler) {\n        drawRuler(scene, verticalRuler);\n        drawLabel(scene, verticalRuler, '#000000');\n    }\n}\n\ndraw();\n\n\n\n// class Ruler {\n//     constructor(offsetX, offsetY, color, isHorizontal) {\n//         this.x1 = isHorizontal ? 0 : offsetX;\n//         this.y1 = isHorizontal ? offsetY : 0;\n//         this.x2 = offsetX;\n//         this.y2 = offsetY;\n//         this.color = color;\n//     }\n//\n//     draw(scene) {\n//         line(scene, this.x1, this.y1, this.x2, this.y2, this.color);\n//     }\n// }\n\n"],"names":["newCanvas","width","height","background","target","document","body","canvas","createElement","setAttribute","style","appendChild","scene","getContext","clearScene","clearRect","line","x1","y1","x2","y2","color","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","horizontalRuler","verticalRuler","addEventListener","event","createHorizontalRuler","offsetX","offsetY","createVerticalRuler","mouseX","mouseY","drawRuler","ruler","drawLabel","fontSize","position","fillStyle","font","fillText","draw","requestAnimationFrame"],"version":3,"file":"07-mouse-ruler.54a0da6c.js.map"}