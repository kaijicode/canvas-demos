{"mappings":"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","sources":["./src/canvas.js","./src/primitives.js","./src/09-cube-2d/index.js"],"sourcesContent":["export function newCanvas(width, height, background, target = document.body) {\n    const canvas = document.createElement('canvas');\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n    canvas.style.background = background;\n    target.appendChild(canvas);\n\n    return {\n        canvas,\n        scene: canvas.getContext('2d')\n    };\n}\n\nexport function clearScene(scene, canvas) {\n    scene.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nexport function renderLoop(fn, delay) {\n    let start = performance.now();\n    let elapsed = 0;\n\n    const draw = () => {\n        requestAnimationFrame(draw);\n\n        elapsed = elapsed + (performance.now() - start)\n        start = performance.now();\n\n        if (elapsed >= delay) {\n            fn();\n            elapsed = 0;\n        }\n    }\n\n    draw();\n}","export function line(scene, x1, y1, x2, y2, width, color) {\n    scene.beginPath();\n    scene.lineWidth = width;\n    scene.strokeStyle = color;\n\n    scene.moveTo(x1, y1);\n    scene.lineTo(x2, y2);\n\n    scene.stroke();\n}\n","import {clearScene, newCanvas, renderLoop} from \"../canvas\";\nimport { line } from \"../primitives\";\n\n\nconst CUBE_SIZE = 128;\nconst CUBE_COLOR = '#000';\nconst CUBE_THICKNESS = 1;\nconst CANVAS_SIZE = 512;\nconst cubes = [];\n\nconst { canvas, scene } = newCanvas(CANVAS_SIZE, CANVAS_SIZE, '#fff');\n\nconst getCubePosition = (event) => {\n    const {x: canvasX, y: canvasY} = canvas.getBoundingClientRect();\n    return {x: (event.clientX - canvasX) - CUBE_SIZE / 2, y: (event.clientY - canvasY) - CUBE_SIZE / 2};\n}\n\nlet floatingCubeX = 200;\nlet floatingCubeY = 150;\ncanvas.addEventListener('mousemove', (event) => {\n    const position = getCubePosition(event);\n    floatingCubeX = position.x;\n    floatingCubeY = position.y;\n});\n\ncanvas.addEventListener('click', (event) => {\n    cubes.push(getCubePosition(event));\n});\n\nconst drawCube = (scene, size, x, y, width, color) => {\n    line(scene, x, y, x + size, y, width, color);\n    line(scene, x, y, x - (size / 2), y + (size / 2), width, color)\n    line(scene, x + size, y, x + (size / 2), y + (size / 2), width, color);\n    line(scene, x - (size / 2), y + (size / 2), x + (size / 2), y + (size / 2), width, color);\n\n    line(scene, x, y, x, y + size, width, color);\n    line(scene, x + size, y, x + size, y + size, width, color)\n    line(scene, x - (size / 2), y + (size / 2), x - (size / 2), y + (size / 2) + size, width, color);\n    line(scene, x + (size / 2), y + (size / 2), x + (size / 2), y + (size / 2) + size, width, color);\n\n    line(scene, x, y + size, x + size, y + size, width, color);\n    line(scene, x, y + size, x - (size / 2), y + (size * 2) - (size / 2), width, color)\n    line(scene, x + size, y + size, x + size - (size / 2), y + (size * 2) - (size / 2), width, color);\n    line(scene, x - (size / 2), y + (size * 2) - (size / 2), x + size - (size / 2), y + (size * 2) - (size / 2), width, color);\n}\n\nconst draw = () => {\n    clearScene(scene, canvas);\n\n    drawCube(scene, CUBE_SIZE, floatingCubeX, floatingCubeY, CUBE_THICKNESS, CUBE_COLOR);\n\n    for (const cube of cubes) {\n        const {x, y} = cube;\n        drawCube(scene, CUBE_SIZE, x, y, CUBE_THICKNESS, CUBE_COLOR);\n    }\n}\n\nrenderLoop(draw, 0);\n"],"names":["newCanvas","width","height","background","target","document","body","canvas","createElement","setAttribute","style","appendChild","scene","getContext","clearScene","clearRect","renderLoop","fn","delay","start","performance","now","elapsed","draw","requestAnimationFrame","line","x1","y1","x2","y2","color","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","CUBE_SIZE","CUBE_COLOR","CUBE_THICKNESS","CANVAS_SIZE","cubes","getCubePosition","event","x","canvasX","y","canvasY","getBoundingClientRect","clientX","clientY","floatingCubeX","floatingCubeY","addEventListener","position","push","drawCube","size","cube"],"version":3,"file":"09-cube-2d.c7fbd4c3.js.map"}