{"mappings":"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","sources":["./src/canvas.js","./src/primitives.js","./src/10-just-a-line/index.js"],"sourcesContent":["export function newCanvas(width, height, background, target = document.body) {\n    const canvas = document.createElement('canvas');\n    canvas.setAttribute('width', width);\n    canvas.setAttribute('height', height);\n    canvas.style.background = background;\n    target.appendChild(canvas);\n\n    return {\n        canvas,\n        scene: canvas.getContext('2d')\n    };\n}\n\nexport function clearScene(scene, canvas) {\n    scene.clearRect(0, 0, canvas.width, canvas.height);\n}\n\nexport function renderLoop(fn, delay) {\n    let start = performance.now();\n    let elapsed = 0;\n\n    const draw = () => {\n        requestAnimationFrame(draw);\n\n        elapsed = elapsed + (performance.now() - start)\n        start = performance.now();\n\n        if (elapsed >= delay) {\n            fn();\n            elapsed = 0;\n        }\n    }\n\n    draw();\n}","export function line(scene, x1, y1, x2, y2, width, color) {\n    scene.beginPath();\n    scene.lineWidth = width;\n    scene.strokeStyle = color;\n\n    scene.moveTo(x1, y1);\n    scene.lineTo(x2, y2);\n\n    scene.stroke();\n}\n","import {clearScene, newCanvas, renderLoop} from \"../canvas\";\nimport { line } from \"../primitives\";\n\n\nconst CANVAS_SIZE = 512;\n\nconst { canvas, scene } = newCanvas(CANVAS_SIZE, CANVAS_SIZE, '#fff');\n\nconst getMousePosition = (event) => {\n    const {x: canvasX, y: canvasY} = canvas.getBoundingClientRect();\n    return {x: (event.clientX - canvasX), y: (event.clientY - canvasY)};\n}\n\nlet mouseX = 0;\nlet mouseY = 0;\ncanvas.addEventListener('mousemove', (event) => {\n    const position = getMousePosition(event);\n    mouseX = position.x;\n    mouseY = position.y;\n});\n\n\nconst draw = () => {\n    clearScene(scene, canvas);\n\n    line(scene, CANVAS_SIZE / 2, CANVAS_SIZE / 2, mouseX, mouseY, 1, '#000');\n}\n\nrenderLoop(draw, 0);\n"],"names":["newCanvas","width","height","background","target","document","body","canvas","createElement","setAttribute","style","appendChild","scene","getContext","clearScene","clearRect","renderLoop","fn","delay","start","performance","now","elapsed","draw","requestAnimationFrame","line","x1","y1","x2","y2","color","beginPath","lineWidth","strokeStyle","moveTo","lineTo","stroke","CANVAS_SIZE","getMousePosition","event","x","canvasX","y","canvasY","getBoundingClientRect","clientX","clientY","mouseX","mouseY","addEventListener","position"],"version":3,"file":"10-just-a-line.2be306e4.js.map"}